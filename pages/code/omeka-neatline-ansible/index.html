<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Eric Rochester — Omeka, Neatline, Mac, development, oh my!</title>
        <meta name="description" content>
        <meta name="viewport" content="width=device-width">

        <link rel="alternate" type="application/atom+xml" href="../../../atom.xml" title="Atom Feed">

        <link href="http://fonts.googleapis.com/css?family=Inder" rel="stylesheet" type="text/css">
        <link href="http://fonts.googleapis.com/css?family=Ubuntu+Mono" rel="stylesheet" type="text/css">
        <link rel="stylesheet" href="../../../css/normalize.css">
        <link rel="stylesheet" href="../../../css/main.css">
        <link rel="stylesheet" href="../../../css/font-awesome.min.css">
        <link rel="stylesheet" href="../../../css/syntax.css">
        <script src="../../../js/vendor/modernizr-2.6.2.min.js"></script>
        
    </head>
    <body>
        <!--[if lt IE 7]>
            <p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
        <![endif]-->

        <div id="container">
          <header id="top">
            <h1><a href="../../../">Eric Rochester</a></h1>
          </header>

          <div>
            <article>
  <header>
    <h2>Omeka, Neatline, Mac, development, oh my!</h2>
  </header>

  <div>
    <p><em>This is cross posted at <a href="http://www.scholarslab.org/uncategorized/omeka-neatline-mac-development-oh-my/">The Scholars’ Lab Blog</a>.</em></p>
<p>At the Scholars’ Lab, we’re big big advocates of Open Source. All of our projects are available freely and openly on <a href="https://github.com/">Github</a>, and we’re always more than happy to accept pull requests. We’d like to be able to empower everyone to contribute to our projects as much as they’re able to and comfortable with.</p>
<p>Unfortunately, one of our flagship projects, <a href="http://neatline.org/">Neatline</a>, isn’t easy to contribute to. There are a number of reasons for this, but one is that the development environment is not trivial to get set up. In order to address this and make it easier for others to contribute, we’ve developed an <a href="http://www.ansible.com/">Ansible</a> playbook that takes a not-quite-stock Mac and sets up an instance of Omeka with the Neatline plugin available, as well as all the tools necessary for working on Neatline.</p>
<p><a href="http://www.ansible.com/">Ansible</a> is a system for setting up and configuring systems. It’s often used to set up multiple servers—for instance, a database server and a static web server, both working with a dynamic web applications deployed on several computers. If you’re familiar with <a href="http://www.getchef.com/">Chef</a> or <a href="http://puppetlabs.com/">Puppet</a>, Ansible solves the same problems. In this case, we’ll use it to configure our local development workstation.</p>
<p>We’ve published these playbooks on <a href="https://github.com/">Github</a> in the <a href="https://github.com/erochest/neatline.dev/tree/mac-ansible"><code>neatline.dev</code> repository, on the <code>mac-ansible</code> branch</a>. You can get this by cloning it to your local machine. (Since this is for getting started developing Neatline, I assume that you’re already comfortable with <a href="http://git-scm.com/">git</a>. If not, <a href="http://rogerdudler.github.io/git-guide/">there</a> <a href="https://try.github.io/">are</a> <a href="http://www.git-tower.com/learn/">lots</a> <a href="http://gitimmersion.com/">of</a> <a href="http://www.vogella.com/tutorials/Git/article.html">great</a> <a href="http://git-scm.com/book">tutorials</a>.)</p>
<pre class="sourceCode bash"><code class="sourceCode bash">$ <span class="kw">git</span> clone --branch mac-ansible https://github.com/erochest/neatline.dev.git</code></pre>
<h2 id="requirements">Requirements</h2>
<p>In creating this, I’ve aimed for starting from a stock Mac. And I missed pretty badly. However, the necessary prerequisites are minimal. You’ll just need to have these things installed.</p>
<ul>
<li><a href="https://itunes.apple.com/us/app/xcode/id497799835">XCode</a></li>
<li><a href="http://brew.sh/">Homebrew</a></li>
</ul>
<p>Once those two are on your machine, you can install the other two dependencies. These are available through <a href="http://brew.sh/">Homebrew</a>. So open Terminal and type these lines:</p>
<pre class="sourceCode bash"><code class="sourceCode bash">$ <span class="kw">brew</span> install python
$ <span class="kw">brew</span> install ansible</code></pre>
<p>That’s all. You should be ready to go.</p>
<h2 id="settings">Settings</h2>
<p>This project includes a number settings that you can change to customize your installation. Those are found in the file <a href="https://github.com/erochest/neatline.dev/blob/mac-ansible/playbook.yaml"><code>playbook.yaml</code></a>. The relevant section is labelled <code>vars</code>, and it allows you to set information about the Omeka database (<code>omeka_db_user</code>, <code>omeka_db_password</code>, and <code>omeka_db_name</code>), which version of Omeka you wish to use (<code>omeka_version</code>), where you wish to install it (<code>omeka_dir</code>), and where you want to point your browser to (<code>dev_hostname</code>) as you’re working on the site. The defaults are:</p>
<pre class="sourceCode yaml"><code class="sourceCode yaml"><span class="fu">vars:</span>
  <span class="fu">db_user:</span> root
  <span class="fu">db_password:</span>
  <span class="fu">omeka_db_user:</span> omeka
  <span class="fu">omeka_db_password:</span> omeka
  <span class="fu">omeka_db_name:</span> omeka
  <span class="fu">dev_hostname:</span> omeka-neatline.dev
  <span class="fu">omeka_dir:</span> <span class="st">&quot;{{ ansible_env.HOME }}/omeka/neatlinedev&quot;</span>
  <span class="fu">omeka_version:</span> stable-2.1
  <span class="fu">debug:</span> true
  <span class="fu">neatline_repo:</span> git@github.com:scholarslab/Neatline.git
  <span class="fu">php_version:</span> 55</code></pre>
<p>Change these to reflect what you’d like your personal Omeka/Neatline installation to look like.</p>
<p>One option that I’ll call out in particular is <code>neatline_repo</code>. This is the git repository that you’ll be working with. If you’re using github to host your project, you can <a href="https://help.github.com/articles/fork-a-repo">fork</a> the primary Neatline repository (from the URL given above). And when you’ve completed your work, if you’d like to contribute back, you can send us a <a href="https://help.github.com/articles/using-pull-requests">pull request</a> through the Github site.</p>
<h2 id="setting-up">Setting Up</h2>
<p>Finally, we’re ready to actually create the system. This is quite easy. In the Terminal, from the <code>neatline.dev</code> directory, run the <code>neatline-dev</code> script.</p>
<pre class="sourceCode bash"><code class="sourceCode bash">$ <span class="kw">cd</span> neatline.dev
$ <span class="kw">./neatline-dev</span></code></pre>
<p>Now wait.</p>
<p>After your computer whirs away for a while, you’ll get your prompt back. When that happens, you should be able to point your browser to http://omeka-neatline.dev (in the example above). There you’ll see the Omeka installation form.</p>
<h2 id="what-just-happened">What Just Happened?</h2>
<p>The Ansible playbook does a number of tasks.</p>
<ol style="list-style-type: decimal">
<li>It installs all the dependencies that you’ll need, including <a href="http://php.net/">PHP</a>, <a href="http://nodejs.org/">NodeJS</a>, and <a href="http://www.mysql.com/">MySQL</a>.</li>
<li>It sets MySQL to start automatically when you log in, and it creates the Omeka MySQL user and database.</li>
<li>It configures <a href="http://httpd.apache.org/">Apache</a> to work with PHP and to find your Omeka directory.</li>
<li>It downloads and configures <a href="http://omeka.org/">Omeka</a> and turns on debugging.</li>
<li>It clones <a href="http://neatline.org/">Neatline</a> into Omeka’s <code>plugin</code> directory.</li>
<li>It initializes <a href="https://github.com/nvie/gitflow">git flow</a> for working in Neatline and leaves you on the <code>develop</code> branch.</li>
<li>And it installs the necessary JavaScript and PHP tools, including <a href="http://gruntjs.com/">Grunt</a>, <a href="http://bower.io/">Bower</a>, <a href="https://getcomposer.org/">Composer</a>, and <a href="http://phpunit.de/">PHPUnit</a>.</li>
</ol>
<p>After all that, it really needs a break.</p>
<p>You probably do too.</p>
<h2 id="future">Future</h2>
<p>Unfortunately, that’s only the first step that we need to take to make the Neatline code-base approachable. Some more things that we have planned include:</p>
<ul>
<li>Documentation on all the moving parts.</li>
<li>Documentation on the overall architecture of Neatline.</li>
<li>Documentation on the code. What’s where? If you wish to change something, where would you find it?</li>
</ul>
<p>As we get those parts in place, we’ll keep you posted.</p>
  </div>

  <footer>
    <ul>
      <li><time datetime="2014-08-29T20:30:00Z" pubdate>29 August 2014</time></li>
      <li><a href="../../../pages/code/omeka-neatline-ansible/index.html">Permalink</a></li>
      <li><a href="../../../pages/code/omeka-neatline-ansible/index.md"><code>Raw</code></a></li>
    </ul>
  </footer>
</article>

          </div>

          <footer>
            <div>
              <div class="column">
                <h1>Links</h1>
                <ul>
                  <li><a href="../../../">Home</a></li>
                  <li><a href="../../../pages/">Index</a></li>
                  <li><a href="../../../categories/">Categories</a></li>
                </ul>
              </div>
              <div class="column">
                <h1>Writing</h1>
                <ul>
                  <li><a href="../../../clj-data-analysis/">Clojure Data Analysis Cookbook</a></li>
                  <li><a href="../../../clj-data-master/">Mastering Clojure Data Analysis</a></li>
                </ul>
              <!-- </div>
            <div class='column'> -->
                <h1>Projects</h1>
              </div>
              <div class="column">
                <div class="profile">
                  <h1>About Me</h1>
                  <div><img src="http://www.gravatar.com/avatar/0e72db523b0c799c871b7755eda209f5.png" class="avatar">Wrote the <a href="http://www.packtpub.com/clojure-data-analysis-cookbook/book"><em>Clojure
                        Data Analysis Cookbook</em></a>. Studied medieval
                    English literature and linguistics at UGA. Dissertated on
                    lexicography. Now I program in Haskell and write when I’m
                    not building cool stuff for the Scholars’ Lab. Also,
                    husband and parent. Do you notice that <em>sleep</em> isn’t
                    on that list?</div>
                </div>
              </div>
              <div class="column">
                <div class="contact">
                  <h1>Contact Me</h1>
                  <ul>
                    <li><a href="https://twitter.com/erochest"><i class="icon-twitter"></i></a></li>
                    <li><a href="https://github.com/erochest"><i class="icon-github-alt"></i></a></li>
                    <li><a href="https://plus.google.com/114676222173328397142"><i class="icon-google-plus"></i></a></li>
                    <li><a href="http://www.linkedin.com/in/erochester"><i class="icon-linkedin"></i></a></li>
                </ul>
                </div>
                <ul>
                  <li><div><a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_US"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-sa/3.0/80x15.png" /></a><!-- <br /><span
                        xmlns:dct="http://purl.org/dc/terms/"
                        property="dct:title">Title of work</span> by <a
                        xmlns:cc="http://creativecommons.org/ns#"
                        href="http://www.ericrochester.com/something"
                        property="cc:attributionName" rel="cc:attributionURL">Eric
                        Rochester</a> is licensed under a <a rel="license"
                        href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_US">Creative
                        Commons Attribution-ShareAlike 3.0 Unported License</a>.
                      --> </div></li>
                  <li>Copyright &copy; 2013, Eric Rochester</li>

                </ul>
              </div>
            </div>
            <div class="clearfix"></div>
          </footer>
        </div>

        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
        <script>window.jQuery || document.write('<script src="/js/vendor/jquery-1.9.0.min.js"><\/script>')</script>
        <script src="../../../js/plugins.js"></script>
        <script src="../../../js/main.js"></script>

        <script>
            var _gaq=[['_setAccount','UA-1756003-2'],['_trackPageview']];
            (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
            g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
            s.parentNode.insertBefore(g,s)}(document,'script'));
        </script>
    </body>
</html>
